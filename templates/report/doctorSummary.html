{% extends 'report_base.html' %}
{% block title %}Doctor Summary{% endblock %}

{% block content %}
    <h1> Doctor Summary</h1>
    <h2>Total Spending:
        {{ totalSpending }}
    </h2>

    <div class="detail">
        <div class="catsum">
            <h3>Monthly Summary</h3>
            <form>
                <table>
                    <tr>
                        <th>Year</th>
                        <th>Month</th>
                        <th>Total</th>
                    </tr>
                    {% for item in monthSummary %}
                    <tr>
                        <td>{{ item['yr'] }}</td>
                        <td>{{ item['mon'] }}</td>
                        <td>{{ item['sum'] }}</td>
                    </tr>
                    {% endfor %}
                </table>
            </form>
        </div>
    </div>

    <div class="detail">
        <div class="catsum">
            <h3>Single Transaction</h3>
            <form>
                <table>
                    <tr>
                        <th>ID</th>
                        <th>Name</th>
                        <th>Amount</th>
                        <th>Sub-Category</th>
                        <th>Year</th>
                        <th>Month</th>
                        <th>Day</th>
                        <th>Card</th>
                        <th>Degree</th>
                        <th>Comments</th>
                    </tr>
                    {% for trans in transactions %}
                    <tr>
                        <td><a href="{{ url_for('spending.spending_edit', id=trans['id']) }}">{{ trans['id'] }}</td>
                        <td>{{ trans['name'] }}</td>
                        <td>{{ trans['amount'] }}</td>
                        <td>{{ subs[trans['sub_category']] }}</td>
                        <td>{{ trans['yr'] }}</td>
                        <td>{{ trans['mon'] }}</td>
                        <td>{{ trans['daynum'] }}</td>
                        <td>{{ cards[trans['card']] }}</td>
                        <td>{{ degrees[trans['degree']] }}</td>
                        <td>{{ trans['comments'] }}</td>
                    </tr>
                    {% endfor %}
                </table>
            </form>
        </div>
    </div>

{% endblock %}